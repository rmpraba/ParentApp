<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="stylesheet" type="text/css" href="../../styles/styles.css">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-input/paper-textarea.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/iron-autogrow-textarea/iron-autogrow-textarea.html">
<link rel="import" href="../../query-post/query-post.html">


<dom-module id="complaint-teacher">
  <template>
    <style>
      :host {
        display: block;
      }
      .button{
        @apply(--layout-center);
      }
      .complaint{
        height: 700px;
      }
    </style>
    <div class="complaint">
      <div class="container">
        <div class="row">
          <div class="page-heading">
            <h1>HELPDESK</h1>
            <p>We have complaints!</p>
          </div>
          <div class="field">
            <paper-input label="Teacher ID" value="{{teachers_id}}" id="teacher_id" allowed-pattern="[a-zA-Z0-9 ]" required error-message="need a id!" readOnly></paper-input>
          </div>
          <div class="field">
            <paper-input label="Teacher Name" value="{{teacher_name}}" id="teacher_name" allowed-pattern="[a-zA-Z]" required error-message="need a name!" readOnly></paper-input>
          </div>
          <div class="field">
            <paper-input label="Email" value="{{teacher_email}}" id="email-teacher" required error-message="need a e-mail ID!" readOnly></paper-input>
          </div>
          <div class="field">
            <paper-input label="Mobile" value="{{teacher_mobile}}" id="mobile-teacher" required error-message="need a mobile number!" readOnly></paper-input>
          </div>
         <!-- <div class="field">
            <paper-input label="Subject" value="{{subject}}" id="subject" required error-message="need subject!"></paper-input>
          </div>-->
          <div class="field">
            <paper-dropdown-menu label="Category">
              <paper-menu id="category-teacher" required error-message="Need a Category!" class="dropdown-content" on-iron-select="categoryteacher" valueattr="value">
                <paper-listbox class="dropdown-content">
                  <paper-item value="academics"><paper-icon-button  class="category_icon" src="../../images/book_icon.png"></paper-icon-button>Academics</paper-item>
                  <paper-item value="adminstration"><paper-icon-button  class="category_icon" src="../../images/administration_icon.png"></paper-icon-button>Administration</paper-item>
                  <paper-item value="transport"><paper-icon-button  class="category_icon" src="../../images/schoolbus_icon.png"></paper-icon-button>Transport</paper-item>
                  <paper-item value="facilities"><paper-icon-button  class="category_icon" src="../../images/fecilities_icon.png"></paper-icon-button>Facilities</paper-item>
                </paper-listbox>
              </paper-menu>
            </paper-dropdown-menu>
          </div>
          <div class="field textarea">
            <iron-autogrow-textarea value="{{complaint}}" id="complaint"  error-message="needs Complaint!" placeholder="Feedback" required ></iron-autogrow-textarea>
          </div>
          <div class="button">
            <paper-button id="button" on-click="click">Submit</paper-button>
          </div>
        </div>
      </div>
    </div>
    <query-post id='qpostid'></query-post>
  </template>
  </template>
  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'complaint-teacher',

      ready:function(){

      },
      categoryteacher:function(e){
      var category=(e.target.selectedItem.textContent).trim();
      alert(category);
      },
      click:function()
      { 
        //alert(this.teacher_id+ '  '+this.teacher_name+'   '+category+'  'this.complaint);
        this.$.qpostid.querypostFn(this.teachers_id,this.teacher_name,this.teacher_email,category,this.complaint,this.mobile);
      },
      refresh:function()
      {
        this.complaint="";
        document.querySelector('#category').selected=-1;
      }
    });
  })();
  </script>
</dom-module>